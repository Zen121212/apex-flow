{"ast":null,"code":"import { signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WorkflowModalComponent } from '../../components/workflow-modal/workflow-modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction WorkflowsComponent_div_11_div_1_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const integration_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", ctx_r2.getIntegrationIcon(integration_r2), \" \", integration_r2, \" \");\n  }\n}\nfunction WorkflowsComponent_div_11_div_1_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \" \\uD83D\\uDD10 Approval Required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WorkflowsComponent_div_11_div_1_small_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const workflow_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Last used \", ctx_r2.formatDate(workflow_r4.lastUsed), \" \");\n  }\n}\nfunction WorkflowsComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 14)(8, \"span\", 15);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"titlecase\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 16)(12, \"div\", 17)(13, \"span\", 18);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 19);\n    i0.ɵɵtext(16, \"Documents\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 17)(18, \"span\", 18);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 19);\n    i0.ɵɵtext(21, \"Integrations\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 20);\n    i0.ɵɵtemplate(23, WorkflowsComponent_div_11_div_1_span_23_Template, 2, 2, \"span\", 21)(24, WorkflowsComponent_div_11_div_1_span_24_Template, 2, 0, \"span\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 23)(26, \"small\", 24);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, WorkflowsComponent_div_11_div_1_small_28_Template, 2, 1, \"small\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 26)(30, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function WorkflowsComponent_div_11_div_1_Template_button_click_30_listener() {\n      const workflow_r4 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.editWorkflow(workflow_r4));\n    });\n    i0.ɵɵtext(31, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function WorkflowsComponent_div_11_div_1_Template_button_click_32_listener() {\n      const workflow_r4 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.toggleWorkflowStatus(workflow_r4));\n    });\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function WorkflowsComponent_div_11_div_1_Template_button_click_34_listener() {\n      const workflow_r4 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.deleteWorkflow(workflow_r4.id));\n    });\n    i0.ɵɵtext(35, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const workflow_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"inactive\", workflow_r4.status === \"inactive\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(workflow_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(workflow_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"status-\" + workflow_r4.status);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 16, workflow_r4.status), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(workflow_r4.documentsProcessed);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(workflow_r4.integrations.length);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", workflow_r4.integrations);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", workflow_r4.requiresApproval);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Created \", ctx_r2.formatDate(workflow_r4.created), \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", workflow_r4.lastUsed);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMap(workflow_r4.status === \"active\" ? \"btn-warning\" : \"btn-success\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", workflow_r4.status === \"active\" ? \"Deactivate\" : \"Activate\", \" \");\n  }\n}\nfunction WorkflowsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, WorkflowsComponent_div_11_div_1_Template, 36, 18, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.workflows());\n  }\n}\nfunction WorkflowsComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\u2699\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"No workflows created yet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Create your first workflow to start automating document processing\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function WorkflowsComponent_div_12_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openCreateModal());\n    });\n    i0.ɵɵelementStart(8, \"span\", 4);\n    i0.ɵɵtext(9, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" Create Your First Workflow \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let WorkflowsComponent = /*#__PURE__*/(() => {\n  class WorkflowsComponent {\n    constructor() {\n      this.workflowsSignal = signal([{\n        id: '1',\n        name: 'Invoice Processing',\n        description: 'Automatically extract data from invoices and save to database with Slack notifications',\n        status: 'active',\n        created: new Date(Date.now() - 86400000 * 7),\n        lastUsed: new Date(Date.now() - 3600000 * 2),\n        documentsProcessed: 45,\n        integrations: ['Database', 'Slack'],\n        requiresApproval: false\n      }, {\n        id: '2',\n        name: 'Contract Review',\n        description: 'Extract key contract terms and send for approval via email before storage',\n        status: 'active',\n        created: new Date(Date.now() - 86400000 * 14),\n        lastUsed: new Date(Date.now() - 86400000 * 1),\n        documentsProcessed: 12,\n        integrations: ['Email', 'Database', 'Webhook'],\n        requiresApproval: true\n      }, {\n        id: '3',\n        name: 'Receipt Scanning',\n        description: 'Simple receipt data extraction for expense tracking',\n        status: 'inactive',\n        created: new Date(Date.now() - 86400000 * 30),\n        documentsProcessed: 8,\n        integrations: ['Database'],\n        requiresApproval: false\n      }]);\n      this.workflowModalVisible = signal(false);\n      this.workflows = this.workflowsSignal.asReadonly();\n      this.showWorkflowModal = this.workflowModalVisible.asReadonly();\n    }\n    openCreateModal() {\n      this.workflowModalVisible.set(true);\n    }\n    closeWorkflowModal() {\n      this.workflowModalVisible.set(false);\n    }\n    editWorkflow(workflow) {\n      console.log('Edit workflow:', workflow);\n      // TODO: Open modal with pre-filled data\n      this.openCreateModal();\n    }\n    toggleWorkflowStatus(workflow) {\n      this.workflowsSignal.update(workflows => workflows.map(w => w.id === workflow.id ? {\n        ...w,\n        status: w.status === 'active' ? 'inactive' : 'active'\n      } : w));\n    }\n    deleteWorkflow(workflowId) {\n      if (confirm('Are you sure you want to delete this workflow?')) {\n        this.workflowsSignal.update(workflows => workflows.filter(w => w.id !== workflowId));\n      }\n    }\n    onWorkflowCreated(workflow) {\n      console.log('New workflow created:', workflow);\n      const newWorkflow = {\n        id: this.generateId(),\n        name: workflow.name || 'New Workflow',\n        description: workflow.description || 'Workflow description',\n        status: 'active',\n        created: new Date(),\n        documentsProcessed: 0,\n        integrations: this.getEnabledIntegrations(workflow.integrations),\n        requiresApproval: workflow.integrations?.approval?.enabled || false\n      };\n      this.workflowsSignal.update(workflows => [...workflows, newWorkflow]);\n    }\n    formatDate(date) {\n      const now = new Date();\n      const diffMs = now.getTime() - date.getTime();\n      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n      if (diffDays === 0) {\n        return 'today';\n      } else if (diffDays === 1) {\n        return '1 day ago';\n      } else if (diffDays < 7) {\n        return `${diffDays} days ago`;\n      } else if (diffDays < 30) {\n        const weeks = Math.floor(diffDays / 7);\n        return `${weeks} week${weeks > 1 ? 's' : ''} ago`;\n      } else {\n        return date.toLocaleDateString();\n      }\n    }\n    getIntegrationIcon(integration) {\n      switch (integration.toLowerCase()) {\n        case 'slack':\n          return '💬';\n        case 'email':\n          return '📧';\n        case 'database':\n          return '💾';\n        case 'webhook':\n          return '🔗';\n        default:\n          return '⚙️';\n      }\n    }\n    getEnabledIntegrations(integrations) {\n      if (!integrations) return [];\n      const enabled = [];\n      if (integrations.slack?.enabled) enabled.push('Slack');\n      if (integrations.email?.enabled) enabled.push('Email');\n      if (integrations.database?.enabled) enabled.push('Database');\n      if (integrations.webhook?.enabled) enabled.push('Webhook');\n      return enabled;\n    }\n    generateId() {\n      return Math.random().toString(36).substr(2, 9);\n    }\n    static {\n      this.ɵfac = function WorkflowsComponent_Factory(t) {\n        return new (t || WorkflowsComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: WorkflowsComponent,\n        selectors: [[\"app-workflows\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 14,\n        vars: 3,\n        consts: [[1, \"workflows-container\"], [1, \"page-header\"], [1, \"header-content\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn-icon\"], [\"class\", \"workflows-grid\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [3, \"close\", \"workflowCreated\", \"isVisible\"], [1, \"workflows-grid\"], [\"class\", \"workflow-card\", 3, \"inactive\", 4, \"ngFor\", \"ngForOf\"], [1, \"workflow-card\"], [1, \"workflow-header\"], [1, \"workflow-info\"], [1, \"workflow-description\"], [1, \"workflow-status\"], [1, \"status-badge\"], [1, \"workflow-stats\"], [1, \"stat\"], [1, \"stat-number\"], [1, \"stat-label\"], [1, \"workflow-integrations\"], [\"class\", \"integration-tag\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"approval-tag\", 4, \"ngIf\"], [1, \"workflow-meta\"], [1, \"created-date\"], [\"class\", \"last-used\", 4, \"ngIf\"], [1, \"workflow-actions\"], [1, \"btn\", \"btn-small\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-small\", 3, \"click\"], [1, \"btn\", \"btn-small\", \"btn-danger\", 3, \"click\"], [1, \"integration-tag\"], [1, \"approval-tag\"], [1, \"last-used\"], [1, \"empty-state\"], [1, \"empty-icon\"]],\n        template: function WorkflowsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n            i0.ɵɵtext(4, \"\\u2699\\uFE0F Workflows\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\");\n            i0.ɵɵtext(6, \"Manage and configure your document processing workflows\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function WorkflowsComponent_Template_button_click_7_listener() {\n              return ctx.openCreateModal();\n            });\n            i0.ɵɵelementStart(8, \"span\", 4);\n            i0.ɵɵtext(9, \"+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(10, \" Create Workflow \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(11, WorkflowsComponent_div_11_Template, 2, 1, \"div\", 5)(12, WorkflowsComponent_div_12_Template, 11, 0, \"div\", 6);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"app-workflow-modal\", 7);\n            i0.ɵɵlistener(\"close\", function WorkflowsComponent_Template_app_workflow_modal_close_13_listener() {\n              return ctx.closeWorkflowModal();\n            })(\"workflowCreated\", function WorkflowsComponent_Template_app_workflow_modal_workflowCreated_13_listener($event) {\n              return ctx.onWorkflowCreated($event);\n            });\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"ngIf\", ctx.workflows().length > 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.workflows().length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"isVisible\", ctx.showWorkflowModal());\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.TitleCasePipe, WorkflowModalComponent],\n        styles: [\".workflows-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:600;color:#111827}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a67d8}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f9fafb}.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#059669}.btn-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d97706}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-small[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.8125rem}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.workflows-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.workflow-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1.5rem;transition:all .2s}.workflow-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000001a;transform:translateY(-2px)}.workflow-card.inactive[_ngcontent-%COMP%]{opacity:.6;background:#f9fafb}.workflow-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.workflow-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.125rem;font-weight:600;color:#111827}.workflow-description[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;line-height:1.4}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em}.status-active[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.workflow-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1rem}.stat[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:600;color:#374151}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.workflow-integrations[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.integration-tag[_ngcontent-%COMP%], .approval-tag[_ngcontent-%COMP%]{padding:.25rem .5rem;background:#f3f4f6;border-radius:6px;font-size:.75rem;color:#374151;font-weight:500}.approval-tag[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.workflow-meta[_ngcontent-%COMP%]{margin-bottom:1rem;padding-top:1rem;border-top:1px solid #f3f4f6}.created-date[_ngcontent-%COMP%], .last-used[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#9ca3af;margin-bottom:.25rem}.workflow-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:500;color:#374151}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem}\"]\n      });\n    }\n  }\n  return WorkflowsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}